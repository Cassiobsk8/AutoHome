<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
	<link href='https://fonts.googleapis.com/css?family=Bowlby One' rel='stylesheet'>
	<link rel="stylesheet" type="text/css" href="comm.css" />

	<script src="jquery-3.2.1.min.js"></script>
	<script src="jquery.AshAlom.gaugeMeter-2.0.0.min.js"></script>
	<script>
		function soundclick() {
			var snd = new Audio("clickm.mp3");
			snd.play();
			snd.currentTime = 0;
		}
	</script>
	<script>
		$(document).ready(function () {
			$(".GaugeMeter").gaugeMeter();
		});
	</script>

	<script>
		function refresh() {
			$.getJSON('test.json', function (jd) {
				$('#ipatio').html('' + jd.patio + '');
				$('#icozinha').html('' + jd.cozinha + '');
				$('#isala').html('' + jd.sala + '');
				$('#iescada').html('' + jd.escada + '');
				$('#iescritorio').html('' + jd.escritorio + '');
				$('#iquarto').html('' + jd.quarto + '');
				console.log(jd);
				if (jd.patio == "LIGADA") {
					$('#bpatio').css('background', 'rgba(0, 255, 0, 0.2)');
				} else {
					$('#bpatio').css('background', 'rgba(255, 0, 0, 0.2)');
				};
				if (jd.cozinha == "LIGADA") {
					$('#bcozinha').css('background', 'rgba(0, 255, 0, 0.2)');
				} else {
					$('#bcozinha').css('background', 'rgba(255, 0, 0, 0.2)');
				};
				if (jd.sala == "LIGADA") {
					$('#bsala').css('background', 'rgba(0, 255, 0, 0.2)');
				} else {
					$('#bsala').css('background', 'rgba(255, 0, 0, 0.2)');
				};
				if (jd.escada == "LIGADA") {
					$('#bescada').css('background', 'rgba(0, 255, 0, 0.2)');
				} else {
					$('#bescada').css('background', 'rgba(255, 0, 0, 0.2)');
				};
				if (jd.escritorio == "LIGADA") {
					$('#bescritorio').css('background', 'rgba(0, 255, 0, 0.2)');
				} else {
					$('#bescritorio').css('background', 'rgba(255, 0, 0, 0.2)');
				};
				if (jd.quarto == "LIGADA") {
					$('#bquarto').css('background', 'rgba(0, 255, 0, 0.2)');
				} else {
					$('#bquarto').css('background', 'rgba(255, 0, 0, 0.2)');
				};
			});
			setTimeout(refresh, 500);
		}
		refresh();
	</script>


</head>

<body>
	<div id="container">


		<button class="button buttont" onclick="soundclick(); test()">DESLIGAR TODAS AS LUZES</button>


		<div id="esq">
			<div id="esqtop">
				<div class="floating-box"></div>
				<h1>
					LAMPADAS
				</h1>
				<div class="floating-box"></div>
			</div>
			<div id="esqmid">
				<button class="button" onclick="soundclick()">PATIO</button>
				<i class="right"></i>
				<h2 id="bpatio">
					<div id="ipatio">ERRO</div>
				</h2>
				<button class="button" onclick="soundclick()">COZINHA</button>
				<i class="right"></i>
				<h2 id="bcozinha">
					<div id="icozinha">ERRO</div>
				</h2>
				<button class="button" onclick="soundclick()">SALA</button>
				<i class="right"></i>
				<h2 id="bsala">
					<div id="isala">ERRO</div>
				</h2>
				<button class="button disabled" onclick="soundclick()">ESCADA</button>
				<i class="right"></i>
				<h2 id="bescada">
					<div id="iescada">ERRO</div>
				</h2>
			</div>
			<div id="esqbot">
				<button class="button disabled" onclick="soundclick()">ESCRITÓRIO</button>
				<i class="right"></i>
				<h2 id="bescritorio">
					<div id="iescritorio">ERRO</div>
				</h2>
				<button class="button disabled" onclick="soundclick()">QUARTO</button>
				<i class="right"></i>
				<h2 id="bquarto">
					<div id="iquarto">ERRO</div>
				</h2>
			</div>
		</div>
		<div id="dir">
			<div id="dirtop">
				<div class="floating-box2"></div>
				<h1>
					TEMPERATURA
				</h1>
				<div class="floating-box3"></div>
				<h1>
					LUMINSIDADE
				</h1>
				<div class="floating-box3"></div>
				<h1>
					PRESENÇA
				</h1>
				<div class="floating-box2"></div>
				<p></p>
				<div id="gauge1">
					<div class="GaugeMeter" id="GaugeMeter_1" data-percent="25" data-stripe="12" data-append="°C" data-animate_gauge_colors="1"
					 data-theme="Green-Red" data-label="TEMPERATURA" data-label_color="white" data-size="200" data-width="10">
					</div>
				</div>
				<div id="gauge2">
					<div class="GaugeMeter" id="GaugeMeter_1" data-percent="100" data-stripe="12" data-append="%" data-color="#04FA15" data-label="LUMINOSIDADE"
					 data-label_color="white" data-size="200" data-width="10">
					</div>
				</div>
				<div id="gauge3">
					<div class="GaugeMeter" id="GaugeMeter_1" data-used="1" data-total="1" data-stripe="0" data-back="black" data-color="#04FA15"
					 data-text="P" data-label="PRESENÇA" data-label_color="white" data-size="200" data-width="0">
					</div>
				</div>
			</div>
			<div id="dirmid">
				<div class="floating-box4"></div>
				<h1>
					SOON
				</h1>
				<div class="floating-box4"></div>
				<p></p>
				<div id="gauge4">
					<div class="GaugeMeter" id="GaugeMeter_1" data-used="1" data-total="1" data-stripe="0" data-back="black" data-color="CornflowerBlue "
					 data-text="T" data-label="TESTE" data-label_color="white" data-size="200" data-width="0">
					</div>
					<button class="button buttong" onclick="soundclick()"></button>
				</div>
				<div id="gauge4">
					<div class="GaugeMeter" id="GaugeMeter_1" data-used="1" data-total="1" data-stripe="0" data-back="black" data-color="CornflowerBlue "
					 data-text="T" data-label="TESTE" data-label_color="white" data-size="200" data-width="0">
					</div>
					<button class="button buttong" onclick="soundclick()"></button>
				</div>
				<div id="gauge4">
					<div class="GaugeMeter" id="GaugeMeter_1" data-used="1" data-total="1" data-stripe="0" data-back="black" data-color="CornflowerBlue "
					 data-text="T" data-label="TESTE" data-label_color="white" data-size="200" data-width="0">
					</div>
					<button class="button buttong" onclick="soundclick()"></button>
				</div>
				<div id="gauge4">
					<div class="GaugeMeter" id="GaugeMeter_1" data-used="1" data-total="1" data-stripe="0" data-back="black" data-color="CornflowerBlue "
					 data-text="T" data-label="TESTE" data-label_color="white" data-size="200" data-width="0">
					</div>
					<button class="button buttong" onclick="soundclick()"></button>
				</div>
			</div>
			<div id="dirbot">

			</div>
		</div>
	</div>
</body>

</html>